<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Tijd Check</title>
<style>
    body {
        font-family: 'Arial Black', Arial, sans-serif;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: linear-gradient(135deg, #7f00ff, #e100ff);
        color: #fff;
        text-align: center;
        overflow: hidden;
    }
    h1 {
        font-size: 3em;
        margin-bottom: 30px;
        text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
    }
    #countdown {
        font-size: 4em;
        font-weight: bold;
        letter-spacing: 0.05em;
        text-shadow: 3px 3px 10px rgba(0,0,0,0.4);
        animation: pulse 1s infinite alternate;
    }
    @keyframes pulse {
        from { transform: scale(1); }
        to { transform: scale(1.05); }
    }
    #message {
        margin-top: 20px;
        font-size: 1.5em;
        text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
    }
    /* Progress bar */
    #progress-container {
        width: 80%;
        max-width: 600px;
        height: 20px;
        background: rgba(255,255,255,0.2);
        border-radius: 10px;
        margin-top: 40px;
        overflow: hidden;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
    }
    #progress-bar {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #00e1ff, #00ff9d);
        border-radius: 10px;
        transition: width 1s linear;
    }
</style>
<script>
// Configuratie
const redirectURL = 'https://voorbeeld.com/andere-pagina'; // vervang door jouw URL
const targetISO = '2025-11-01T22:01:00+01:00'; // UTC+1 (Brussels)
let startTime = null;

// Haal betrouwbare tijd op van API
async function fetchTime() {
    try {
        const resp = await fetch('https://worldtimeapi.org/api/timezone/Europe/Brussels');
        if (!resp.ok) throw new Error('API niet bereikbaar');
        const data = await resp.json();
        return new Date(data.datetime);
    } catch (err) {
        console.error('Kon tijd niet ophalen:', err);
        return null;
    }
}

// Update de countdown en voortgangsbalk
async function updateCountdown() {
    const now = await fetchTime();
    if (!now) {
        document.getElementById('message').textContent = 'Kon de tijd niet verifiÃ«ren.';
        return;
    }

    const target = new Date(targetISO);
    if (!startTime) startTime = new Date(now.getTime() - 1000); // eerste init (schatting)

    const diff = target - now;
    const total = target - startTime;

    if (diff <= 0) {
        window.location.href = redirectURL;
        return;
    }

    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    // Update klok
    document.getElementById('countdown').textContent = 
        `${hours.toString().padStart(2,'0')} : ${minutes.toString().padStart(2,'0')} : ${seconds.toString().padStart(2,'0')}`;
    document.getElementById('message').textContent = 'Je bent te vroeg!';

    // Update voortgangsbalk
    const progress = 100 - ((diff / total) * 100);
    document.getElementById('progress-bar').style.width = `${Math.min(progress, 100)}%`;
}

// Start countdown
async function startCountdown() {
    await updateCountdown(); // eerste keer meteen
    setInterval(updateCountdown, 1000);
}

window.onload = startCountdown;
</script>
</head>
<body>
<h1>Tijd Check</h1>
<div id="countdown">-- : -- : --</div>
<div id="message"></div>
<div id="progress-container">
    <div id="progress-bar"></div>
</div>
</body>
</html>
